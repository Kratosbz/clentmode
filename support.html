<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support & FAQ - Vaultorx</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    <style>
        :root {
            --vx-primary: #22c55e;
            --vx-primary-hover: #16a34a;
            --vx-blue: #3b82f6;
            --vx-dark: #1e293b;
            --vx-text: #334155;
            --vx-text-muted: #64748b;
            --vx-border: #e2e8f0;
            --vx-light: #f8fafc;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--vx-light);
            color: var(--vx-text);
            min-height: 100vh;
        }
        
        /* Header */
        .vx-header {
            background: white;
            border-bottom: 1px solid var(--vx-border);
            padding: 1rem 2rem;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .vx-header-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .vx-logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            text-decoration: none;
            color: var(--vx-dark);
            font-weight: 700;
            font-size: 1.5rem;
        }
        
        .vx-logo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--vx-primary), var(--vx-blue));
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }
        
        .vx-nav {
            display: flex;
            align-items: center;
            gap: 2rem;
        }
        
        .vx-nav a {
            color: var(--vx-text);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.2s;
        }
        
        .vx-nav a:hover {
            color: var(--vx-primary);
        }
        
        /* Hero Section */
        .vx-hero {
            background: linear-gradient(135deg, var(--vx-dark) 0%, #0f172a 100%);
            color: white;
            padding: 4rem 2rem;
            text-align: center;
        }
        
        .vx-hero h1 {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }
        
        .vx-hero p {
            font-size: 1.25rem;
            opacity: 0.8;
            max-width: 600px;
            margin: 0 auto;
        }
        
        /* Main Content */
        .vx-main {
            max-width: 1200px;
            margin: 0 auto;
            padding: 3rem 2rem;
        }
        
        /* Contact Cards */
        .vx-contact-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-bottom: 4rem;
        }
        
        .vx-contact-card {
            background: white;
            border-radius: 16px;
            padding: 2rem;
            text-align: center;
            border: 1px solid var(--vx-border);
            transition: all 0.3s;
        }
        
        .vx-contact-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
        }
        
        .vx-contact-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--vx-primary), var(--vx-blue));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
            color: white;
            font-size: 1.5rem;
        }
        
        .vx-contact-card h3 {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
        
        .vx-contact-card p {
            color: var(--vx-text-muted);
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }
        
        .vx-contact-link {
            color: var(--vx-primary);
            text-decoration: none;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .vx-contact-link:hover {
            text-decoration: underline;
        }
        
        /* FAQ Section */
        .vx-section-title {
            font-size: 2rem;
            font-weight: 700;
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .vx-faq-container {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .vx-faq-item {
            background: white;
            border-radius: 12px;
            margin-bottom: 1rem;
            border: 1px solid var(--vx-border);
            overflow: hidden;
        }
        
        .vx-faq-question {
            padding: 1.25rem 1.5rem;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 600;
            transition: background 0.2s;
        }
        
        .vx-faq-question:hover {
            background: var(--vx-light);
        }
        
        .vx-faq-question i {
            transition: transform 0.3s;
            color: var(--vx-text-muted);
        }
        
        .vx-faq-item.active .vx-faq-question i {
            transform: rotate(180deg);
        }
        
        .vx-faq-answer {
            padding: 0 1.5rem;
            max-height: 0;
            overflow: hidden;
            transition: all 0.3s;
            color: var(--vx-text-muted);
            line-height: 1.7;
        }
        
        .vx-faq-item.active .vx-faq-answer {
            padding: 0 1.5rem 1.5rem;
            max-height: 500px;
        }
        
        /* Categories */
        .vx-faq-categories {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }
        
        .vx-faq-category {
            padding: 0.5rem 1.5rem;
            border-radius: 25px;
            border: 1px solid var(--vx-border);
            background: white;
            cursor: pointer;
            transition: all 0.2s;
            font-weight: 500;
        }
        
        .vx-faq-category:hover,
        .vx-faq-category.active {
            background: var(--vx-primary);
            color: white;
            border-color: var(--vx-primary);
        }
        
        /* Contact Form Section */
        .vx-form-section {
            background: white;
            border-radius: 20px;
            padding: 3rem;
            margin-top: 4rem;
            border: 1px solid var(--vx-border);
        }
        
        .vx-form-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.5rem;
        }
        
        @media (max-width: 768px) {
            .vx-form-grid {
                grid-template-columns: 1fr;
            }
        }
        
        .vx-form-group {
            margin-bottom: 1rem;
        }
        
        .vx-form-group.full-width {
            grid-column: 1 / -1;
        }
        
        .vx-form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--vx-text);
        }
        
        .vx-form-input,
        .vx-form-select,
        .vx-form-textarea {
            width: 100%;
            padding: 0.875rem 1rem;
            border: 1px solid var(--vx-border);
            border-radius: 10px;
            font-size: 1rem;
            transition: border-color 0.2s, box-shadow 0.2s;
        }
        
        .vx-form-input:focus,
        .vx-form-select:focus,
        .vx-form-textarea:focus {
            outline: none;
            border-color: var(--vx-primary);
            box-shadow: 0 0 0 3px rgba(34, 197, 94, 0.1);
        }
        
        .vx-form-textarea {
            min-height: 150px;
            resize: vertical;
        }
        
        .vx-submit-btn {
            background: var(--vx-primary);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .vx-submit-btn:hover {
            background: var(--vx-primary-hover);
        }
        
        /* Footer */
        .vx-footer {
            background: var(--vx-dark);
            color: white;
            padding: 3rem 2rem;
            margin-top: 4rem;
        }
        
        .vx-footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .vx-footer-links {
            display: flex;
            gap: 2rem;
        }
        
        .vx-footer-links a {
            color: rgba(255,255,255,0.7);
            text-decoration: none;
            transition: color 0.2s;
        }
        
        .vx-footer-links a:hover {
            color: white;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="vx-header">
        <div class="vx-header-content">
            <a href="/marketplace.html" class="vx-logo">
                <div class="vx-logo-icon">
                    <i class="bi bi-gem"></i>
                </div>
                Vaultorx
            </a>
            <nav class="vx-nav">
                <a href="/marketplace.html">Marketplace</a>
                <a href="category.html">Explore</a>
                <a href="support.html" class="text-primary">Support</a>
                <a href="/dashboard.html">Dashboard</a>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="vx-hero">
        <h1>How can we help?</h1>
        <p>Find answers to common questions or get in touch with our support team</p>
    </section>

    <!-- Main Content -->
    <main class="vx-main">
        <!-- Contact Options -->
        <div class="vx-contact-grid">
            <div class="vx-contact-card">
                <div class="vx-contact-icon">
                    <i class="bi bi-envelope"></i>
                </div>
                <h3>Email Support</h3>
                <p>Get help via email. We typically respond within 24 hours.</p>
                <a href="mailto:support@vaultorx.com" class="vx-contact-link">
                    support@vaultorx.com <i class="bi bi-arrow-right"></i>
                </a>
            </div>
            <div class="vx-contact-card">
                <div class="vx-contact-icon">
                    <i class="bi bi-chat-dots"></i>
                </div>
                <h3>Live Chat</h3>
                <p>Chat with our support team in real-time during business hours.</p>
                <a href="#contact-form" class="vx-contact-link">
                    Start Chat <i class="bi bi-arrow-right"></i>
                </a>
            </div>
            <div class="vx-contact-card">
                <div class="vx-contact-icon">
                    <i class="bi bi-discord"></i>
                </div>
                <h3>Discord Community</h3>
                <p>Join our community for discussions and peer support.</p>
                <a href="#" class="vx-contact-link">
                    Join Discord <i class="bi bi-arrow-right"></i>
                </a>
            </div>
            <div class="vx-contact-card">
                <div class="vx-contact-icon">
                    <i class="bi bi-twitter"></i>
                </div>
                <h3>Twitter</h3>
                <p>Follow us for updates and quick support inquiries.</p>
                <a href="#" class="vx-contact-link">
                    @Vaultorx <i class="bi bi-arrow-right"></i>
                </a>
            </div>
        </div>

        <!-- FAQ Section -->
        <h2 class="vx-section-title">Frequently Asked Questions</h2>
        
        <div class="vx-faq-categories">
            <button class="vx-faq-category active" data-category="all" data-testid="button-faq-all">All</button>
            <button class="vx-faq-category" data-category="getting-started" data-testid="button-faq-started">Getting Started</button>
            <button class="vx-faq-category" data-category="buying" data-testid="button-faq-buying">Buying</button>
            <button class="vx-faq-category" data-category="selling" data-testid="button-faq-selling">Selling</button>
            <button class="vx-faq-category" data-category="wallet" data-testid="button-faq-wallet">Wallet & Payments</button>
            <button class="vx-faq-category" data-category="account" data-testid="button-faq-account">Account</button>
        </div>

        <div class="vx-faq-container">
            <!-- Getting Started -->
            <div class="vx-faq-item" data-category="getting-started">
                <div class="vx-faq-question" data-testid="faq-what-is-nft">
                    <span>What is an NFT?</span>
                    <i class="bi bi-chevron-down"></i>
                </div>
                <div class="vx-faq-answer">
                    NFT stands for Non-Fungible Token. It's a unique digital asset that represents ownership of items like art, music, videos, and more on the blockchain. Unlike cryptocurrencies, each NFT is one-of-a-kind and cannot be exchanged on a one-to-one basis with another NFT.
                </div>
            </div>

            <div class="vx-faq-item" data-category="getting-started">
                <div class="vx-faq-question" data-testid="faq-how-to-start">
                    <span>How do I get started on Vaultorx?</span>
                    <i class="bi bi-chevron-down"></i>
                </div>
                <div class="vx-faq-answer">
                    Getting started is easy! First, create an account by clicking "Sign Up" and verifying your email. Once logged in, you can browse the marketplace, create collections, mint NFTs, and participate in auctions. We recommend depositing some ETH to your account balance to start buying or listing NFTs.
                </div>
            </div>

            <div class="vx-faq-item" data-category="getting-started">
                <div class="vx-faq-question" data-testid="faq-supported-formats">
                    <span>What file formats are supported for NFTs?</span>
                    <i class="bi bi-chevron-down"></i>
                </div>
                <div class="vx-faq-answer">
                    Vaultorx supports a variety of file formats including JPG, PNG, GIF, SVG for images, MP4 and WEBM for videos, and MP3 and WAV for audio. The maximum file size is 100MB for images and 500MB for video and audio files.
                </div>
            </div>

            <!-- Buying -->
            <div class="vx-faq-item" data-category="buying">
                <div class="vx-faq-question" data-testid="faq-how-to-buy">
                    <span>How do I buy an NFT?</span>
                    <i class="bi bi-chevron-down"></i>
                </div>
                <div class="vx-faq-answer">
                    To buy an NFT, first make sure you have sufficient balance in your account. Browse the marketplace, find an NFT you like, and click "Buy Now" for fixed-price listings or place a bid for auction items. The NFT will be transferred to your collection once the purchase is complete.
                </div>
            </div>

            <div class="vx-faq-item" data-category="buying">
                <div class="vx-faq-question" data-testid="faq-auction-work">
                    <span>How do auctions work?</span>
                    <i class="bi bi-chevron-down"></i>
                </div>
                <div class="vx-faq-answer">
                    Auctions allow you to bid on NFTs within a specified time period. Each bid must be higher than the previous bid by the minimum increment set by the seller. When the auction ends, the highest bidder wins the NFT. If you're outbid, your funds will be returned to your account balance.
                </div>
            </div>

            <!-- Selling -->
            <div class="vx-faq-item" data-category="selling">
                <div class="vx-faq-question" data-testid="faq-how-to-sell">
                    <span>How do I list my NFT for sale?</span>
                    <i class="bi bi-chevron-down"></i>
                </div>
                <div class="vx-faq-answer">
                    To list an NFT for sale, go to your Dashboard, navigate to "My NFTs" or "Sales" section, and click "List for Sale" on an unlisted NFT. Set your price and confirm. Listing is free - the minting fee was already paid when you created the NFT.
                </div>
            </div>

            <div class="vx-faq-item" data-category="selling">
                <div class="vx-faq-question" data-testid="faq-listing-fee">
                    <span>What is the minting fee?</span>
                    <i class="bi bi-chevron-down"></i>
                </div>
                <div class="vx-faq-answer">
                    Vaultorx charges a minting fee of 0.2 ETH when you create (mint) a new NFT. This fee helps maintain the platform and covers blockchain transaction costs. The fee is deducted from your ETH balance at the time of minting. Listing your minted NFTs for sale is free.
                </div>
            </div>

            <div class="vx-faq-item" data-category="selling">
                <div class="vx-faq-question" data-testid="faq-royalties">
                    <span>How do royalties work?</span>
                    <i class="bi bi-chevron-down"></i>
                </div>
                <div class="vx-faq-answer">
                    Creators can set royalties when minting NFTs. Each time the NFT is resold on the marketplace, the original creator receives a percentage of the sale price as a royalty payment. This allows artists to benefit from the continued appreciation of their work.
                </div>
            </div>

            <!-- Wallet & Payments -->
            <div class="vx-faq-item" data-category="wallet">
                <div class="vx-faq-question" data-testid="faq-deposit">
                    <span>How do I deposit funds?</span>
                    <i class="bi bi-chevron-down"></i>
                </div>
                <div class="vx-faq-answer">
                    To deposit funds, go to your Dashboard and click the "Deposit" button. You'll see our platform wallet address and a QR code. Send ETH to this address and enter the transaction details in the deposit form. An admin will verify your deposit and credit your account within 24 hours.
                </div>
            </div>

            <div class="vx-faq-item" data-category="wallet">
                <div class="vx-faq-question" data-testid="faq-withdraw">
                    <span>How do I withdraw funds?</span>
                    <i class="bi bi-chevron-down"></i>
                </div>
                <div class="vx-faq-answer">
                    To withdraw, click the "Withdraw" button in your Dashboard. Enter your wallet address and the amount you wish to withdraw. Withdrawal requests are processed within 1-3 business days after admin approval. A small network fee may apply depending on blockchain conditions.
                </div>
            </div>

            <div class="vx-faq-item" data-category="wallet">
                <div class="vx-faq-question" data-testid="faq-currencies">
                    <span>What currencies are supported?</span>
                    <i class="bi bi-chevron-down"></i>
                </div>
                <div class="vx-faq-answer">
                    Vaultorx primarily supports ETH (Ethereum) and WETH (Wrapped Ethereum) for transactions. All account balances are displayed in ETH. We're working on adding support for additional cryptocurrencies in the future.
                </div>
            </div>

            <!-- Account -->
            <div class="vx-faq-item" data-category="account">
                <div class="vx-faq-question" data-testid="faq-verify-email">
                    <span>How do I verify my email?</span>
                    <i class="bi bi-chevron-down"></i>
                </div>
                <div class="vx-faq-answer">
                    After registering, you'll receive a verification email with a 6-digit code. Enter this code on the verification page to activate your account. If you didn't receive the email, check your spam folder or request a new verification code from the login page.
                </div>
            </div>

            <div class="vx-faq-item" data-category="account">
                <div class="vx-faq-question" data-testid="faq-reset-password">
                    <span>I forgot my password. How do I reset it?</span>
                    <i class="bi bi-chevron-down"></i>
                </div>
                <div class="vx-faq-answer">
                    Click "Forgot Password" on the login page and enter your registered email address. You'll receive a password reset link. Follow the link to create a new password. For security reasons, the link expires after 1 hour.
                </div>
            </div>

            <div class="vx-faq-item" data-category="account">
                <div class="vx-faq-question" data-testid="faq-security">
                    <span>How secure is my account?</span>
                    <i class="bi bi-chevron-down"></i>
                </div>
                <div class="vx-faq-answer">
                    We take security seriously. All passwords are encrypted using industry-standard bcrypt hashing. We recommend using a strong, unique password and enabling email notifications for important account activities. Never share your login credentials with anyone.
                </div>
            </div>
        </div>

        <!-- Contact Form -->
        <div class="vx-form-section" id="contact-form">
            <h2 class="vx-section-title">Still need help? Contact Us</h2>
            <form id="supportForm" onsubmit="submitSupportForm(event)">
                <div class="vx-form-grid">
                    <div class="vx-form-group">
                        <label class="vx-form-label">Your Name</label>
                        <input type="text" class="vx-form-input" name="name" required data-testid="input-support-name">
                    </div>
                    <div class="vx-form-group">
                        <label class="vx-form-label">Email Address</label>
                        <input type="email" class="vx-form-input" name="email" required data-testid="input-support-email">
                    </div>
                    <div class="vx-form-group">
                        <label class="vx-form-label">Subject</label>
                        <select class="vx-form-select" name="subject" required data-testid="select-support-subject">
                            <option value="">Select a topic</option>
                            <option value="account">Account Issues</option>
                            <option value="buying">Buying Help</option>
                            <option value="selling">Selling Help</option>
                            <option value="payment">Payment Issues</option>
                            <option value="technical">Technical Support</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    <div class="vx-form-group">
                        <label class="vx-form-label">Order/Transaction ID (optional)</label>
                        <input type="text" class="vx-form-input" name="orderId" data-testid="input-support-orderid">
                    </div>
                    <div class="vx-form-group full-width">
                        <label class="vx-form-label">Message</label>
                        <textarea class="vx-form-textarea" name="message" required placeholder="Describe your issue in detail..." data-testid="textarea-support-message"></textarea>
                    </div>
                    <div class="vx-form-group full-width">
                        <button type="submit" class="vx-submit-btn" data-testid="button-support-submit">
                            <i class="bi bi-send"></i> Send Message
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </main>

    <!-- Footer -->
    <footer class="vx-footer">
        <div class="vx-footer-content">
            <div>
                <span>&copy; 2024 Vaultorx. All rights reserved.</span>
            </div>
            <div class="vx-footer-links">
                <a href="#">Terms of Service</a>
                <a href="#">Privacy Policy</a>
                <a href="support.html">Support</a>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
        // FAQ Toggle
        document.querySelectorAll('.vx-faq-question').forEach(question => {
            question.addEventListener('click', () => {
                const item = question.parentElement;
                item.classList.toggle('active');
            });
        });

        // FAQ Category Filter
        document.querySelectorAll('.vx-faq-category').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.vx-faq-category').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                
                const category = btn.dataset.category;
                document.querySelectorAll('.vx-faq-item').forEach(item => {
                    if (category === 'all' || item.dataset.category === category) {
                        item.style.display = 'block';
                    } else {
                        item.style.display = 'none';
                    }
                });
            });
        });

        // Submit Support Form
        async function submitSupportForm(e) {
            e.preventDefault();
            const form = e.target;
            const formData = new FormData(form);
            const data = Object.fromEntries(formData.entries());

            try {
                const res = await fetch('/api/support', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(data)
                });

                if (res.ok) {
                    Swal.fire({
                        icon: 'success',
                        title: 'Message Sent!',
                        text: 'We\'ve received your message and will get back to you within 24 hours.',
                        confirmButtonColor: '#22c55e'
                    });
                    form.reset();
                } else {
                    const errorData = await res.json();
                    Swal.fire({
                        icon: 'error',
                        title: 'Error',
                        text: errorData.message || 'Failed to send your message. Please try again.',
                        confirmButtonColor: '#22c55e'
                    });
                }
            } catch (err) {
                Swal.fire({
                    icon: 'error',
                    title: 'Connection Error',
                    text: 'Unable to connect to the server. Please check your internet connection and try again.',
                    confirmButtonColor: '#22c55e'
                });
            }
        }
    </script>
</body>
</html>
